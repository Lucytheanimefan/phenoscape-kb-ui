<h2 cg-busy="term.$promise"><span class="badge">Anatomy</span> {{term.label}} <small>{{termID | prefixedURI}}</small></h2>
<p>{{term.definition}}</p>
<div class="row">
    <div class= "col-sm-12">
        <tabset>
            <tab heading="Classification">
                <div class="panel panel-default top-buffer">
                    <div class="panel-body">
                        <classification iri="termID" link-filter="linkToEntity"></classification>
                    </div>
                </div>
            </tab>
            <tab heading="Taxa">
                <tabset type="pills" class="top-buffer">
                   <tab>
                       <tab-heading>Presence <span class="badge">{{taxaWithPresenceTotal.total}}</span></tab-heading>
                       <div class="panel panel-default top-buffer">
                         <div class="panel-heading"><h4>Taxa exhibiting presence of {{term.label}}</h4></div>
                         <div class="panel-body">
                           <p>This query uses inference to determine if any character states entail the presence of <mark>{{term.label}}</mark> in a given taxon.</p>
                         </div>
                         <table class="table table-condensed table-striped" cg-busy="taxaWithPresence.$promise">
                             <thead>
                                 <tr>
                                     <th>Taxon</th>
                                     <th></th>
                                 </tr>
                             </thead>
                             <tbody>
                                 <tr ng-repeat="taxon in taxaWithPresence.results">
                                     <td><a href="{{taxon['@id'] | linkToTaxon}}">{{taxon.label}}</a></td>
                                     <td><a href="http://kb.phenoscape.org/kb/entity/presence/evidence?entity={{termID | encodeURI}}&amp;taxon={{taxon['@id'] | encodeURI}}">evidence</a></td>
                                 </tr>
                             </tbody>
                         </table>
                       </div>
                       <pagination total-items="taxaWithPresenceTotal.total" ng-model="taxaWithPresencePage" max-size="taxaWithPresenceMaxSize" class="pagination-sm" boundary-links="true" rotate="false"  items-per-page="taxaWithPresenceLimit" cg-busy="taxaWithPresenceTotal.$promise" ng-change="taxaWithPresencePageChanged(taxaWithPresencePage)"></pagination>
                       <div class="form-group form-inline">
                           <label for="taxaWithPresencePageInput">Jump to page: </label> <input type="number" class="form-control input-sm" id="taxaWithPresencePageInput" ng-model="taxaWithPresencePage" ng-change="taxaWithPresencePageChanged(taxaWithPresencePage)">
                       </div>
                       <p><label>Download all results:</label> <a class="btn btn-info btn-xs" target="_blank" href="http://kb.phenoscape.org/kb/entity/presence?limit=0&amp;entity={{termID | encodeURI}}" role="button">Text</a></p>
                   </tab>
                   <tab>
                       <tab-heading>Absence <span class="badge">{{taxaWithAbsenceTotal.total}}</span></tab-heading>
                       <div class="panel panel-default top-buffer">
                         <div class="panel-heading"><h4>Taxa exhibiting absence of {{term.label}}</h4></div>
                         <div class="panel-body">
                           <p>This query uses inference to determine if any character states entail the absence of <mark>{{term.label}}</mark> in a given taxon.</p>
                         </div>
                         <table class="table table-condensed table-striped" cg-busy="taxaWithAbsence.$promise">
                             <thead>
                                 <tr>
                                     <th>Taxon</th>
                                     <th></th>
                                 </tr>
                             </thead>
                             <tbody>
                                 <tr ng-repeat="taxon in taxaWithAbsence.results">
                                     <td><a href="{{taxon['@id'] | linkToTaxon}}">{{taxon.label}}</a></td>
                                     <td><a href="http://kb.phenoscape.org/kb/entity/absence/evidence?entity={{termID | encodeURI}}&amp;taxon={{taxon['@id'] | encodeURI}}">evidence</a></td>
                                 </tr>
                             </tbody>
                         </table>
                       </div>
                       <pagination total-items="taxaWithAbsenceTotal.total" ng-model="taxaWithAbsencePage" max-size="taxaWithAbsenceMaxSize" class="pagination-sm" boundary-links="true" rotate="false"  items-per-page="taxaWithAbsenceLimit" cg-busy="taxaWithAbsenceTotal.$promise" ng-change="taxaWithAbsencePageChanged(taxaWithAbsencePage)"></pagination>
                       <div class="form-group form-inline">
                           <label for="taxaWithAbsencePageInput">Jump to page:</label> <input type="number" class="form-control input-sm" min="1" id="taxaWithAbsencePageInput" ng-model="taxaWithAbsencePage" ng-change="taxaWithAbsencePageChanged(taxaWithAbsencePage)">
                       </div>
                       <p><label>Download all results:</label> <a class="btn btn-info btn-xs" target="_blank" href="http://kb.phenoscape.org/kb/entity/absence?limit=0&amp;entity={{termID | encodeURI}}" role="button">Text</a></p>
                   </tab>
                 </tabset>
            </tab>
            <tab heading="Genes">
                <tabset type="pills" class="top-buffer">
                    <tab>
                        <tab-heading>Phenotype <span class="badge">{{phenotypeGenesTotal.total}}</span></tab-heading>
                        <div class="panel panel-default top-buffer">
                            <div class="panel-heading">
                                <h4>Genes affecting phenotype of this structure</h4>
                            </div>
                            <div class="panel-body">
                                <p>These genes have been annotated with phenotypes affecting <mark>{{term.label}}</mark> (directly or via inference).</p>
                                <div class="checkbox well">
                                    <label>
                                      <input type="checkbox" ng-model="phenotypeGenesSettings.includeParts" ng-click="resetPhenotypeGenes();"> Include parts of {{term.label}}
                                    </label>
                                </div>
                            </div>
                            <table class="table table-condensed table-striped" cg-busy="phenotypeGenes.$promise">
                                <thead>
                                    <tr>
                                        <th>Gene</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="gene in phenotypeGenes.results">
                                        <td><a href="{{gene['@id'] | linkToGene}}"><term-name iri="gene.label"></term-name></a></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <pagination total-items="phenotypeGenesTotal.total" ng-model="phenotypeGenesPage" max-size="phenotypeGenesMaxSize" class="pagination-sm" boundary-links="true" rotate="false"  items-per-page="phenotypeGenesLimit" cg-busy="phenotypeGenesTotal.$promise" ng-change="phenotypeGenesPageChanged(phenotypeGenesPage)"></pagination>
                        <p><label>Download all results:</label> <a class="btn btn-info btn-xs" target="_blank" href="http://kb.phenoscape.org/kb/gene/affecting_entity_phenotype?limit=0&amp;iri={{termID | encodeURI}}&amp;parts={{phenotypeGenesSettings.includeParts}}" role="button">Text</a></p>
                    </tab>
                    <tab>
                        <tab-heading>Expression <span class="badge">{{expressionGenesTotal.total}}</span></tab-heading>
                        <div class="panel panel-default top-buffer">
                            <div class="panel-heading">
                                <h4>Genes expressed within this structure</h4>
                            </div>
                            <div class="panel-body">
                                <p>These genes have been annotated with expression locations within <mark>{{term.label}}</mark> (directly or via inference).</p>
                            </div>
                            <table class="table table-condensed table-striped" cg-busy="expressionGenes.$promise">
                                <thead>
                                    <tr>
                                        <th>Gene</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="gene in expressionGenes.results">
                                        <td><a href="{{gene['@id'] | linkToGene}}"><term-name iri="gene.label"></term-name></a></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <pagination total-items="expressionGenesTotal.total" ng-model="expressionGenesPage" max-size="expressionGenesMaxSize" class="pagination-sm" boundary-links="true" rotate="false"  items-per-page="expressionGenesLimit" cg-busy="expressionGenesTotal.$promise" ng-change="expressionGenesPageChanged(expressionGenesPage)"></pagination>
                        <p><label>Download all results:</label> <a class="btn btn-info btn-xs" target="_blank" href="http://kb.phenoscape.org/kb/gene/expressed_within_entity?limit=0&amp;iri={{termID | encodeURI}}" role="button">Text</a></p>
                    </tab>
                </tabset>
            </tab>
        </tabset>
    </div>
</div>